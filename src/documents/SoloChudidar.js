import axios from 'axios'
import React, { useEffect, useRef, useState } from 'react'
import { useNavigate, useParams } from 'react-router'
import '../stylesheets/soloLaptop.css'
import { useCart } from './CartProvider'
import SmallLoader from './SmallLoader'


const SoloChudidar = () => {
  const{ addToCart} = useCart();

  const [mobile,setMobile] = useState([]);


    const [soloLaptopDetails,setSoloLaptopDetails] = useState(null);
    const [ShowMore,setShowMore] = useState(false);
    const [contentHeight,setContentHeight] = useState('65px');
    const [isOverflowing, setIsOverflowing] = useState(false); // To control whether "View More" is shown
    const [statuscartlabel, setstatuscartlabel] = useState(false);
    const [statusbuylabel, setstatusbuylabel] = useState(false); //for buy
    const [cartlabel,setcartlabel] = useState('ADD TO CART');
    const [cartMessage, setcartMessage] = useState('') //cart added message
    const [messageVisible, setmessageVisible] = useState(false);
    const contentRef = useRef(null);

    const shoeSizes = ['M', 'L', 'XL', 'XXL'];
  

    const collapsedHeight = parseInt('65px');
    useEffect(() => {
      // Dynamically calculate the full height of the content when "Show More" is clicked
      if(contentRef.current){      
        const fullHeight = contentRef.current.scrollHeight;
        setIsOverflowing(fullHeight > collapsedHeight);
        setContentHeight(ShowMore ? fullHeight+'px' : collapsedHeight);
      }
    },[ShowMore,soloLaptopDetails])

    const svg = <svg id='carousel-content-svg' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M0 64C0 46.3 14.3 32 32 32l64 0 16 0 176 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-56.2 0c9.6 14.4 16.7 30.6 20.7 48l35.6 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-35.6 0c-13.2 58.3-61.9 103.2-122.2 110.9L274.6 422c14.4 10.3 17.7 30.3 7.4 44.6s-30.3 17.7-44.6 7.4L13.4 314C2.1 306-2.7 291.5 1.5 278.2S18.1 256 32 256l80 0c32.8 0 61-19.7 73.3-48L32 208c-17.7 0-32-14.3-32-32s14.3-32 32-32l153.3 0C173 115.7 144.8 96 112 96L96 96 32 96C14.3 96 0 81.7 0 64z" /></svg>
    const svg1 = <svg id='carousel-content-svg1' fill='rgb(161, 159, 159)' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M0 64C0 46.3 14.3 32 32 32l64 0 16 0 176 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-56.2 0c9.6 14.4 16.7 30.6 20.7 48l35.6 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-35.6 0c-13.2 58.3-61.9 103.2-122.2 110.9L274.6 422c14.4 10.3 17.7 30.3 7.4 44.6s-30.3 17.7-44.6 7.4L13.4 314C2.1 306-2.7 291.5 1.5 278.2S18.1 256 32 256l80 0c32.8 0 61-19.7 73.3-48L32 208c-17.7 0-32-14.3-32-32s14.3-32 32-32l153.3 0C173 115.7 144.8 96 112 96L96 96 32 96C14.3 96 0 81.7 0 64z" /></svg>

    const CART = <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path fillRule="evenodd" clipRule="evenodd" d="M2.95491 6.43502C3.15547 6.2555 3.41519 6.15625 3.68435 6.15625L16.3156 6.15625C16.5847 6.15625 16.8444 6.2555 17.045 6.43502C17.2456 6.61453 17.3729 6.8617 17.4026 7.12922L18.5137 17.1292C18.5307 17.2821 18.5153 17.4368 18.4684 17.5834C18.4215 17.7299 18.3442 17.8648 18.2416 17.9794C18.1391 18.0941 18.0134 18.1858 17.873 18.2485C17.7326 18.3113 17.5805 18.3438 17.4267 18.3438H2.57324C2.41942 18.3438 2.26732 18.3113 2.12689 18.2485C1.98646 18.1858 1.86085 18.0941 1.75826 17.9794C1.65567 17.8648 1.57841 17.7299 1.53153 17.5834C1.48465 17.4368 1.46919 17.2821 1.48618 17.1292L2.59729 7.12922C2.62702 6.86169 2.75434 6.61453 2.95491 6.43502ZM3.68435 7.09375C3.6459 7.09375 3.6088 7.10793 3.58015 7.13357C3.55149 7.15922 3.53331 7.19453 3.52906 7.23274L2.41795 17.2327C2.41552 17.2546 2.41773 17.2767 2.42443 17.2976C2.43112 17.3186 2.44216 17.3378 2.45682 17.3542C2.47147 17.3706 2.48942 17.3837 2.50948 17.3926C2.52954 17.4016 2.55127 17.4062 2.57324 17.4062H17.4267C17.4486 17.4062 17.4704 17.4016 17.4904 17.3926C17.5105 17.3837 17.5284 17.3706 17.5431 17.3542C17.5577 17.3378 17.5688 17.3186 17.5755 17.2976C17.5822 17.2767 17.5844 17.2546 17.582 17.2327L16.4708 7.23274C16.4666 7.19453 16.4484 7.15922 16.4198 7.13357C16.3911 7.10793 16.354 7.09375 16.3156 7.09375L3.68435 7.09375Z" fill="white"/>
    <path fillRule="evenodd" clipRule="evenodd" d="M10 3.1355C9.29552 3.1355 8.61989 3.41535 8.12175 3.9135C7.6236 4.41164 7.34375 5.08727 7.34375 5.79175L7.34375 8.29175C7.34375 8.55063 7.13388 8.7605 6.875 8.7605C6.61612 8.7605 6.40625 8.55063 6.40625 8.29175L6.40625 5.79175C6.40625 4.83863 6.78488 3.92454 7.45884 3.25058C8.13279 2.57662 9.04688 2.198 10 2.198C10.9531 2.198 11.8672 2.57662 12.5412 3.25058C13.2151 3.92454 13.5938 4.83863 13.5938 5.79175V8.29175C13.5938 8.55063 13.3839 8.7605 13.125 8.7605C12.8661 8.7605 12.6562 8.55063 12.6562 8.29175V5.79175C12.6562 5.08727 12.3764 4.41164 11.8783 3.9135C11.3801 3.41535 10.7045 3.1355 10 3.1355Z" fill="white"/>
    </svg>
const svgFit = <svg width="30" height="30" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M31.7336 19.5799H29.5556L31.3236 15.2249C31.4502 14.9126 31.5104 14.5775 31.5005 14.2407C31.4906 13.9039 31.4107 13.5729 31.266 13.2687C31.1213 12.9644 30.9148 12.6936 30.6598 12.4735C30.4047 12.2533 30.1067 12.0886 29.7846 11.9899L27.6076 11.3219C27.3558 11.246 27.1353 11.0908 26.9789 10.8794C26.8224 10.6681 26.7385 10.4118 26.7396 10.1489V9.18386C27.143 8.98216 27.4824 8.67218 27.7198 8.28859C27.9572 7.90501 28.0831 7.46294 28.0836 7.01186V6.05886C28.0828 5.41516 27.8267 4.79805 27.3715 4.34288C26.9164 3.88771 26.2993 3.63165 25.6556 3.63086H19.1556C18.5119 3.63165 17.8947 3.88771 17.4396 4.34288C16.9844 4.79805 16.7284 5.41516 16.7276 6.05886V7.01186C16.728 7.46282 16.8539 7.90476 17.091 8.28831C17.3282 8.67187 17.6673 8.98193 18.0706 9.18386V10.1489C18.0715 10.4116 17.9877 10.6677 17.8315 10.8791C17.6753 11.0904 17.4551 11.2457 17.2036 11.3219L15.0256 11.9899C14.7034 12.0885 14.4052 12.2531 14.1501 12.4732C13.895 12.6934 13.6886 12.9642 13.5439 13.2685C13.3992 13.5728 13.3195 13.904 13.3098 14.2408C13.3001 14.5776 13.3606 14.9127 13.4876 15.2249L14.9876 18.9199C14.9871 18.9218 14.9871 18.9239 14.9876 18.9259L15.2526 19.5799H10.7736V12.9339C10.7736 12.7387 10.696 12.5515 10.558 12.4134C10.42 12.2754 10.2328 12.1979 10.0376 12.1979H8.26556C7.02908 12.1994 5.84369 12.6913 4.96937 13.5657C4.09504 14.44 3.60315 15.6254 3.60156 16.8619V23.4699C3.60289 24.7064 4.0947 25.892 4.96908 26.7663C5.84346 27.6407 7.029 28.1325 8.26556 28.1339H13.3466C12.9304 29.3493 12.7215 30.6261 12.7286 31.9109L12.7456 35.6359C12.7466 35.8304 12.8246 36.0165 12.9625 36.1537C13.1005 36.2909 13.2871 36.3679 13.4816 36.3679H31.2466C31.3434 36.3679 31.4393 36.3488 31.5287 36.3116C31.6181 36.2745 31.6993 36.2201 31.7677 36.1516C31.8361 36.083 31.8902 36.0017 31.9271 35.9121C31.964 35.8226 31.9828 35.7267 31.9826 35.6299V34.7039C33.1746 34.6394 34.2967 34.1209 35.1182 33.2547C35.9397 32.3886 36.3982 31.2406 36.3996 30.0469V24.2469C36.3988 23.0095 35.9069 21.8231 35.0321 20.948C34.1573 20.073 32.9709 19.5809 31.7336 19.5799ZM7.19756 22.9929V21.0529H8.67056V22.9929C8.67056 23.0896 8.65151 23.1853 8.61449 23.2747C8.57748 23.3641 8.52323 23.4453 8.45484 23.5136C8.38645 23.582 8.30526 23.6363 8.2159 23.6733C8.12655 23.7103 8.03078 23.7294 7.93406 23.7294C7.83734 23.7294 7.74157 23.7103 7.65221 23.6733C7.56286 23.6363 7.48167 23.582 7.41328 23.5136C7.34489 23.4453 7.29064 23.3641 7.25362 23.2747C7.21661 23.1853 7.19756 23.0896 7.19756 22.9929ZM15.8386 21.0529H17.3116V22.9929C17.3116 23.1882 17.234 23.3755 17.0958 23.5136C16.9577 23.6518 16.7704 23.7294 16.5751 23.7294C16.3797 23.7294 16.1924 23.6518 16.0543 23.5136C15.9162 23.3755 15.8386 23.1882 15.8386 22.9929V21.0529ZM27.6216 21.0529H29.0916V22.9929C29.0916 23.1882 29.014 23.3755 28.8758 23.5136C28.7377 23.6518 28.5504 23.7294 28.3551 23.7294C28.1597 23.7294 27.9724 23.6518 27.8343 23.5136C27.6962 23.3755 27.6186 23.1882 27.6186 22.9929L27.6216 21.0529ZM24.6756 21.0529H26.1486V22.9929C26.1486 23.1882 26.071 23.3755 25.9328 23.5136C25.7947 23.6518 25.6074 23.7294 25.4121 23.7294C25.2167 23.7294 25.0294 23.6518 24.8913 23.5136C24.7532 23.3755 24.6756 23.1882 24.6756 22.9929V21.0529ZM21.7296 21.0529H23.2026V22.9929C23.2026 23.1882 23.125 23.3755 22.9868 23.5136C22.8487 23.6518 22.6614 23.7294 22.4661 23.7294C22.2707 23.7294 22.0834 23.6518 21.9453 23.5136C21.8072 23.3755 21.7296 23.1882 21.7296 22.9929V21.0529ZM18.7836 21.0529H20.2566V22.9929C20.2566 23.1882 20.179 23.3755 20.0408 23.5136C19.9027 23.6518 19.7154 23.7294 19.5201 23.7294C19.3247 23.7294 19.1374 23.6518 18.9993 23.5136C18.8612 23.3755 18.7836 23.1882 18.7836 22.9929V21.0529ZM32.0396 21.0529L32.0566 21.0699H32.0396V22.9949C32.0396 23.1902 31.962 23.3775 31.8238 23.5156C31.6857 23.6538 31.4984 23.7314 31.3031 23.7314C31.1077 23.7314 30.9204 23.6538 30.7823 23.5156C30.6442 23.3775 30.5666 23.1902 30.5666 22.9949V21.0549L32.0396 21.0529ZM14.8546 14.6699C14.8046 14.5469 14.7808 14.4149 14.7847 14.2823C14.7885 14.1496 14.8199 14.0192 14.8769 13.8994C14.9339 13.7795 15.0153 13.6729 15.1158 13.5862C15.2162 13.4995 15.3337 13.4347 15.4606 13.3959L15.5996 13.3539L17.0096 12.9209L17.6366 12.7289C18.1903 12.5617 18.6753 12.2201 19.0193 11.7551C19.3632 11.29 19.5478 10.7263 19.5456 10.1479V8.35486C19.5456 8.25195 19.5047 8.15327 19.4319 8.0805C19.3592 8.00774 19.2605 7.96686 19.1576 7.96686C18.9043 7.96686 18.6614 7.86624 18.4823 7.68715C18.3032 7.50805 18.2026 7.26514 18.2026 7.01186V6.05886C18.2028 5.80566 18.3035 5.56291 18.4826 5.38387C18.6616 5.20483 18.9044 5.10412 19.1576 5.10386H25.6576C25.9106 5.10465 26.153 5.20552 26.332 5.38445C26.5109 5.56337 26.6118 5.80582 26.6126 6.05886V7.01186C26.6118 7.2649 26.5109 7.50735 26.332 7.68627C26.153 7.8652 25.9106 7.96607 25.6576 7.96686C25.5544 7.96686 25.4554 8.00784 25.3825 8.0808C25.3095 8.15375 25.2686 8.25269 25.2686 8.35586V10.1489C25.2666 10.7272 25.4513 11.2908 25.7952 11.7558C26.1392 12.2208 26.624 12.5624 27.1776 12.7299L27.6566 12.8769L29.0666 13.3089L29.3556 13.3969C29.4818 13.4365 29.5985 13.5018 29.6983 13.5888C29.798 13.6758 29.8786 13.7825 29.935 13.9023C29.9914 14.022 30.0223 14.1521 30.0259 14.2844C30.0294 14.4167 30.0055 14.5483 29.9556 14.6709L28.8036 17.5079L28.2036 18.9899L27.9636 19.5799H16.8476L16.5646 18.8799L15.9476 17.3599L14.8546 14.6699ZM14.3656 21.0509V22.9909C14.3656 23.1862 14.288 23.3735 14.1498 23.5116C14.0117 23.6498 13.8244 23.7274 13.6291 23.7274C13.4337 23.7274 13.2464 23.6498 13.1083 23.5116C12.9702 23.3735 12.8926 23.1862 12.8926 22.9909V21.0509H14.3656ZM11.6166 21.0509V22.9909C11.6166 23.1862 11.539 23.3735 11.4008 23.5116C11.2627 23.6498 11.0754 23.7274 10.8801 23.7274C10.6847 23.7274 10.4974 23.6498 10.3593 23.5116C10.2212 23.3735 10.1436 23.1862 10.1436 22.9909V21.0509H11.6166ZM5.07556 16.8599C5.0782 16.0146 5.41513 15.2048 6.0128 14.6071C6.61047 14.0094 7.42033 13.6725 8.26556 13.6699H9.30056V19.5799H5.07456L5.07556 16.8599ZM14.2166 34.8949L14.2026 31.9039C14.195 30.6124 14.4382 29.3317 14.9186 28.1329H29.8506C30.2789 29.2613 30.4995 30.4579 30.5016 31.6649L30.5106 34.8949H14.2166ZM34.9256 30.0459C34.9233 30.8494 34.6188 31.6226 34.0726 32.2119C33.5265 32.8013 32.7786 33.1636 31.9776 33.2269V31.6599C31.9753 30.4733 31.7891 29.2943 31.4256 28.1649H34.9256V30.0459Z" fill="#404040"></path></svg>
const bestPrice = <svg width="30" height="30" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.6628 36C16.0701 36.0016 15.483 35.886 14.9352 35.6598C14.3873 35.4336 13.8897 35.1013 13.4708 34.682L5.31681 26.528C4.47282 25.6799 3.99902 24.532 3.99902 23.3355C3.99902 22.139 4.47282 20.9911 5.31681 20.143L19.1418 6.327C19.5577 5.90786 20.0523 5.5749 20.5971 5.34719C21.1419 5.11948 21.7263 5.0015 22.3168 5H30.4828C31.6792 5.00369 32.8256 5.48053 33.6717 6.32643C34.5178 7.17233 34.9949 8.31859 34.9988 9.515V17.67C34.999 18.2626 34.8818 18.8494 34.6539 19.3964C34.4259 19.9435 34.0918 20.4399 33.6708 20.857L32.3068 22.22C33.4906 23.743 34.0775 25.6459 33.9573 27.5711C33.8371 29.4963 33.0181 31.3113 31.6541 32.6753C30.2902 34.0393 28.4751 34.8583 26.5499 34.9785C24.6247 35.0987 22.7218 34.5118 21.1988 33.328L19.8538 34.682C19.4351 35.1012 18.9376 35.4335 18.3899 35.6597C17.8423 35.8859 17.2553 36.0015 16.6628 36ZM22.3298 6.806C21.9736 6.80644 21.621 6.87735 21.2924 7.01465C20.9637 7.15195 20.6655 7.35293 20.4148 7.606L6.59881 21.417C6.09263 21.9272 5.8086 22.6168 5.8086 23.3355C5.8086 24.0542 6.09263 24.7438 6.59881 25.254L14.7438 33.4C15.2597 33.8956 15.9474 34.1724 16.6628 34.1724C17.3782 34.1724 18.0659 33.8956 18.5818 33.4L19.9088 32.073C18.7583 30.6606 18.13 28.8947 18.1298 27.073C18.1319 25.8564 18.4095 24.656 18.9418 23.562L14.0108 18.632C13.927 18.5482 13.8604 18.4486 13.8151 18.3391C13.7697 18.2295 13.7463 18.1121 13.7463 17.9935C13.7463 17.8749 13.7697 17.7575 13.8151 17.6479C13.8604 17.5384 13.927 17.4388 14.0108 17.355C14.0947 17.2712 14.1942 17.2046 14.3038 17.1593C14.4133 17.1139 14.5307 17.0905 14.6493 17.0905C14.7679 17.0905 14.8853 17.1139 14.9949 17.1593C15.1044 17.2046 15.204 17.2712 15.2878 17.355L19.9468 22.014C20.741 21.0731 21.7375 20.3238 22.8618 19.822L17.8418 14.8C17.6719 14.6307 17.5763 14.4008 17.5759 14.1609C17.5755 13.9211 17.6705 13.6909 17.8398 13.521C18.0092 13.3511 18.239 13.2555 18.4789 13.2551C18.7188 13.2547 18.9489 13.3497 19.1188 13.519L24.8388 19.24C25.2285 19.1793 25.6224 19.1489 26.0168 19.149H26.0558C27.8776 19.1499 29.6433 19.7785 31.0558 20.929L32.3988 19.583C32.6507 19.332 32.8505 19.0337 32.9867 18.7052C33.123 18.3767 33.193 18.0246 33.1928 17.669V9.515C33.1891 8.79766 32.9025 8.11075 32.3953 7.60351C31.8881 7.09627 31.2011 6.80968 30.4838 6.806H22.3298ZM26.0488 29.714L27.5388 30.488C27.657 30.549 27.7897 30.5759 27.9223 30.5659C28.0549 30.5559 28.1821 30.5092 28.2897 30.4311C28.3973 30.3531 28.4811 30.2466 28.5318 30.1237C28.5825 30.0008 28.5981 29.8662 28.5768 29.735L28.2988 28.08L29.4988 26.9C29.5935 26.8067 29.6604 26.689 29.6919 26.5599C29.7235 26.4308 29.7184 26.2954 29.6775 26.169C29.6365 26.0426 29.5611 25.9301 29.4598 25.8441C29.3585 25.7581 29.2352 25.7019 29.1038 25.682L28.6168 25.61L27.4418 25.43L27.2208 24.979L26.6978 23.933C26.6318 23.8217 26.5379 23.7295 26.4254 23.6655C26.3129 23.6015 26.1857 23.5678 26.0563 23.5678C25.9269 23.5678 25.7997 23.6015 25.6872 23.6655C25.5747 23.7295 25.4809 23.8217 25.4148 23.933L24.6618 25.433L22.9988 25.687C22.8675 25.7071 22.7444 25.7633 22.6432 25.8494C22.542 25.9355 22.4668 26.048 22.4259 26.1744C22.385 26.3008 22.3801 26.4361 22.4117 26.5651C22.4433 26.6941 22.5101 26.8118 22.6048 26.905L23.7988 28.08L23.7338 28.467L23.5258 29.735C23.5042 29.8644 23.5189 29.9972 23.5683 30.1187C23.6178 30.2401 23.7 30.3455 23.8058 30.423L23.8128 30.43C23.9318 30.518 24.0758 30.5656 24.2238 30.566H24.2358C24.3499 30.5636 24.4621 30.5367 24.5648 30.487L26.0488 29.713V29.714Z" fill="#404040"></path><path d="M25.9712 10.0544C25.5844 10.4403 25.3208 10.9322 25.2137 11.468C25.1066 12.0037 25.1609 12.5592 25.3697 13.0641C25.5785 13.569 25.9324 14.0006 26.3865 14.3043C26.8407 14.608 27.3748 14.77 27.9212 14.77C28.4675 14.77 29.0016 14.608 29.4558 14.3043C29.91 14.0006 30.2638 13.569 30.4726 13.0641C30.6814 12.5592 30.7357 12.0037 30.6286 11.468C30.5216 10.9322 30.2579 10.4403 29.8712 10.0544C29.3536 9.53804 28.6523 9.24805 27.9212 9.24805C27.19 9.24805 26.4888 9.53804 25.9712 10.0544ZM28.5712 12.6544C28.3954 12.8227 28.1615 12.9167 27.9182 12.9167C27.6748 12.9167 27.4409 12.8227 27.2652 12.6544C27.1794 12.5693 27.1114 12.468 27.0649 12.3564C27.0185 12.2449 26.9946 12.1252 26.9946 12.0044C26.9946 11.8836 27.0185 11.7639 27.0649 11.6524C27.1114 11.5408 27.1794 11.4395 27.2652 11.3544C27.3504 11.2682 27.4522 11.2001 27.5644 11.1543C27.6766 11.1084 27.7969 11.0856 27.9182 11.0874C28.1001 11.0858 28.2783 11.1385 28.4301 11.2386C28.5819 11.3388 28.7005 11.482 28.7706 11.6498C28.8406 11.8177 28.8591 12.0026 28.8236 12.181C28.7881 12.3594 28.7002 12.5232 28.5712 12.6514V12.6544Z" fill="#404040"></path><path d="M10.4168 20.7855C10.3314 20.8708 10.2637 20.9721 10.2175 21.0837C10.1712 21.1952 10.1475 21.3147 10.1475 21.4355C10.1475 21.5562 10.1712 21.6757 10.2175 21.7873C10.2637 21.8988 10.3314 22.0001 10.4168 22.0855L14.2778 25.9465C14.4524 26.1074 14.6826 26.1946 14.9201 26.1898C15.1575 26.185 15.3839 26.0885 15.5519 25.9205C15.7198 25.7526 15.8163 25.5262 15.8212 25.2887C15.826 25.0512 15.7388 24.8211 15.5778 24.6465L11.7178 20.7855C11.6324 20.6999 11.531 20.6321 11.4194 20.5858C11.3078 20.5395 11.1881 20.5156 11.0673 20.5156C10.9465 20.5156 10.8268 20.5395 10.7152 20.5858C10.6036 20.6321 10.5022 20.6999 10.4168 20.7855Z" fill="#404040"></path></svg>
const original = <svg width="30" height="30" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M23.6662 3.32396L21.3462 2.40996L19.7562 0.481957C19.6312 0.331169 19.4745 0.2098 19.2973 0.126496C19.12 0.0431908 18.9266 0 18.7307 0C18.5349 0 18.3414 0.0431908 18.1642 0.126496C17.9869 0.2098 17.8302 0.331169 17.7052 0.481957L16.1162 2.40996L13.7962 3.32896C13.6139 3.40036 13.4497 3.5113 13.3155 3.65379C13.1812 3.79628 13.0802 3.96677 13.0198 4.15299C12.9593 4.33921 12.9409 4.53651 12.9659 4.73069C12.9909 4.92488 13.0586 5.1111 13.1642 5.27596L14.5032 7.37896L14.6602 9.86996C14.6725 10.0654 14.7278 10.2557 14.822 10.4273C14.9163 10.5989 15.0473 10.7476 15.2057 10.8628C15.364 10.978 15.5458 11.0568 15.7381 11.0936C15.9304 11.1305 16.1285 11.1244 16.3182 11.076L18.7352 10.453L21.1522 11.076C21.3415 11.1233 21.5388 11.1284 21.7302 11.091C21.9217 11.0536 22.1025 10.9745 22.2601 10.8595C22.4176 10.7444 22.5479 10.5961 22.6417 10.4251C22.7356 10.2542 22.7907 10.0646 22.8032 9.86996L22.9602 7.37896L24.3032 5.27196C24.4088 5.1071 24.4766 4.92088 24.5015 4.72669C24.5265 4.53251 24.5081 4.33521 24.4477 4.14899C24.3872 3.96277 24.2862 3.79228 24.152 3.64979C24.0177 3.5073 23.8535 3.39636 23.6712 3.32496L23.6662 3.32396Z" fill="#404040"></path><path d="M10.706 10.4164L9.95121 9.08857C9.88351 8.96947 9.79038 8.86679 9.67844 8.78782C9.5665 8.70885 9.43852 8.65556 9.30362 8.63173C9.16873 8.6079 9.03023 8.61412 8.89802 8.64996C8.7658 8.68579 8.64312 8.75036 8.53872 8.83905L7.37569 9.82811L5.87903 10.1356C5.74466 10.1631 5.61804 10.2199 5.50822 10.3021C5.3984 10.3842 5.30811 10.4897 5.24381 10.6108C5.17951 10.7319 5.14278 10.8658 5.13627 11.0028C5.12976 11.1398 5.15362 11.2765 5.20615 11.4032L5.78661 12.815L5.6201 14.3326C5.60403 14.4687 5.61827 14.6067 5.66181 14.7367C5.70536 14.8667 5.77712 14.9854 5.87197 15.0844C5.96681 15.1834 6.08237 15.2602 6.21038 15.3092C6.33839 15.3583 6.47567 15.3784 6.61237 15.3682L8.13699 15.2475L9.52502 15.8827C9.64981 15.94 9.78575 15.9689 9.92305 15.9673C10.0604 15.9658 10.1956 15.9338 10.3191 15.8738C10.4426 15.8137 10.5512 15.727 10.6372 15.6199C10.7231 15.5129 10.7843 15.3881 10.8163 15.2545L11.1798 13.7718L12.209 12.6433C12.3015 12.5423 12.3706 12.422 12.4113 12.2912C12.452 12.1604 12.4633 12.0222 12.4444 11.8864C12.4255 11.7507 12.3768 11.6209 12.3019 11.5062C12.227 11.3915 12.1276 11.2947 12.0109 11.2228L10.706 10.4164Z" fill="#404040"></path><path d="M27.1195 10.4146L27.8743 9.08677C27.9419 8.96768 28.0351 8.86499 28.147 8.78602C28.259 8.70706 28.3869 8.65376 28.5218 8.62993C28.6567 8.6061 28.7952 8.61232 28.9274 8.64816C29.0597 8.684 29.1823 8.74856 29.2867 8.83725L30.4498 9.82631L31.9464 10.1338C32.0808 10.1613 32.2074 10.2181 32.3172 10.3003C32.4271 10.3824 32.5173 10.4879 32.5817 10.609C32.646 10.7301 32.6827 10.864 32.6892 11.001C32.6957 11.138 32.6718 11.2747 32.6193 11.4014L32.0382 12.8093L32.2047 14.3268C32.2207 14.463 32.2065 14.601 32.1629 14.731C32.1194 14.861 32.0476 14.9797 31.9528 15.0787C31.858 15.1777 31.7424 15.2545 31.6144 15.3035C31.4864 15.3526 31.3491 15.3727 31.2124 15.3625L29.6885 15.2457L28.2997 15.877C28.1749 15.9342 28.039 15.9631 27.9017 15.9616C27.7644 15.96 27.6292 15.9281 27.5057 15.868C27.3822 15.808 27.2736 15.7213 27.1876 15.6142C27.1016 15.5071 27.0405 15.3823 27.0085 15.2488L26.645 13.766L25.6158 12.6376C25.5233 12.5362 25.4544 12.4156 25.414 12.2845C25.3735 12.1533 25.3626 12.0149 25.382 11.879C25.4014 11.7432 25.4507 11.6133 25.5262 11.4987C25.6017 11.3841 25.7016 11.2877 25.8187 11.2162L27.1195 10.4146Z" fill="#404040"></path><path d="M6.31992 37.7664H31.1409C31.9626 37.7648 32.7502 37.4377 33.3312 36.8567C33.9122 36.2757 34.2393 35.4881 34.2409 34.6664V25.0664H36.1289C36.3822 25.0662 36.6302 24.9936 36.8437 24.8573C37.0572 24.721 37.2273 24.5265 37.334 24.2968C37.4408 24.067 37.4797 23.8116 37.4462 23.5605C37.4127 23.3094 37.3081 23.0731 37.1449 22.8794L34.6659 19.9424C34.4592 19.6949 34.2008 19.4957 33.9088 19.3589C33.6168 19.222 33.2984 19.1509 32.9759 19.1504H4.48892C4.16643 19.1497 3.8477 19.2197 3.55519 19.3555C3.26269 19.4913 3.00351 19.6896 2.79592 19.9364L0.312922 22.8734C0.149697 23.0671 0.0451862 23.3034 0.011684 23.5545C-0.0218181 23.8056 0.0170814 24.061 0.123807 24.2907C0.230532 24.5205 0.400644 24.715 0.614134 24.8513C0.827623 24.9876 1.07561 25.0602 1.32892 25.0604H3.21792V34.6604C3.21951 35.4821 3.54662 36.2697 4.12764 36.8507C4.70866 37.4317 5.49624 37.7588 6.31792 37.7604L6.31992 37.7664ZM32.9759 20.0364C33.1695 20.0362 33.3609 20.0785 33.5364 20.1602C33.7119 20.2419 33.8674 20.3611 33.9919 20.5094L36.4709 23.4434C36.5255 23.508 36.5604 23.5869 36.5714 23.6708C36.5824 23.7547 36.569 23.8399 36.5329 23.9164C36.4987 23.9937 36.4426 24.0592 36.3715 24.1049C36.3004 24.1506 36.2174 24.1744 36.1329 24.1734H28.9329C28.6104 24.1741 28.2917 24.1041 27.9992 23.9683C27.7067 23.8325 27.4475 23.6342 27.2399 23.3874L24.4119 20.0364H32.9759ZM23.0149 36.8794H6.31992C5.7322 36.8794 5.16855 36.6459 4.75297 36.2303C4.33739 35.8148 4.10392 35.2511 4.10392 34.6634V25.0634H17.9829C18.4347 25.064 18.8812 24.9659 19.2911 24.7759C19.701 24.5859 20.0644 24.3086 20.3559 23.9634L23.0149 20.8104V36.8794ZM1.32892 24.1734C1.24442 24.1744 1.16148 24.1506 1.09039 24.1049C1.01929 24.0592 0.963149 23.9937 0.928922 23.9164C0.892808 23.8399 0.879451 23.7547 0.890444 23.6708C0.901437 23.5869 0.936316 23.508 0.990922 23.4434L3.46892 20.5094C3.59386 20.3606 3.74999 20.2411 3.92626 20.1593C4.10253 20.0776 4.29462 20.0356 4.48892 20.0364H22.5039L19.6759 23.3874C19.4683 23.6342 19.2092 23.8325 18.9166 23.9683C18.6241 24.1041 18.3054 24.1741 17.9829 24.1734H1.32892Z" fill="#404040"></path><path d="M20.9437 34.0723H18.2868C18.1693 34.0723 18.0566 34.1189 17.9735 34.202C17.8904 34.2851 17.8438 34.3978 17.8438 34.5153C17.8438 34.6328 17.8904 34.7454 17.9735 34.8285C18.0566 34.9116 18.1693 34.9583 18.2868 34.9583H20.9437C21.0612 34.9583 21.1739 34.9116 21.257 34.8285C21.3401 34.7454 21.3867 34.6328 21.3867 34.5153C21.3867 34.3978 21.3401 34.2851 21.257 34.202C21.1739 34.1189 21.0612 34.0723 20.9437 34.0723Z" fill="#404040"></path><path d="M17.8438 32.152C17.8438 32.2695 17.8904 32.3822 17.9735 32.4652C18.0566 32.5483 18.1693 32.595 18.2868 32.595H20.9437C21.0612 32.595 21.1739 32.5483 21.257 32.4652C21.3401 32.3822 21.3867 32.2695 21.3867 32.152C21.3867 32.0345 21.3401 31.9218 21.257 31.8387C21.1739 31.7557 21.0612 31.709 20.9437 31.709H18.2868C18.1693 31.709 18.0566 31.7557 17.9735 31.8387C17.8904 31.9218 17.8438 32.0345 17.8438 32.152Z" fill="#404040"></path><path d="M9.86595 31.8574H7.50195C6.60449 31.8574 5.87695 32.585 5.87695 33.4824C5.87695 34.3799 6.60449 35.1074 7.50195 35.1074H9.86595C10.7634 35.1074 11.491 34.3799 11.491 33.4824C11.491 32.585 10.7634 31.8574 9.86595 31.8574Z" fill="#404040"></path></svg>
const watsapp = <svg xmlns="http://www.w3.org/2000/svg" fill=' #25d366' viewBox="0 0 448 512"><path d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7 .9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"/></svg>

    const params = useParams();

    useEffect(()=>{
        axios.get(`http://www.localhost:3000/product/${params.id}`)
        .then((res=>{
            setSoloLaptopDetails(res.data.product);
        }))
    },[params.id])
    const currentURL = window.location.href;
const shareMessage = soloLaptopDetails
&& `Checkout this product:\n${soloLaptopDetails.title}\nPrice: ₹${Number(soloLaptopDetails.price).toLocaleString('en-IN')} ${soloLaptopDetails.discount ? `(${soloLaptopDetails.discount}% OFF)` : ''}\n\n${currentURL}`
const watsappURL = `https://api.whatsapp.com/send?text=${encodeURIComponent(shareMessage)}`;


     // load 11 products
  useEffect(() => {
    // setLoading(true);
    
    axios.get('http://localhost:3000/product/category/66e0ac1e2e6bda2ea8fee81d')
      .then(res => {
        if (!soloLaptopDetails || !soloLaptopDetails.brandName) {
          return;
        }
            // setLoading(false);
            const sameBrandItems = res.data.product.filter(item => item.brandName && item.brandName === soloLaptopDetails.brandName  && item._id !== soloLaptopDetails._id).slice(0,3);

            const remainingCount = 8-sameBrandItems.length;
               const otherBrands = res.data.product.filter(item => item.brandName && item.brandName !== soloLaptopDetails.brandName && item._id !== soloLaptopDetails._id).slice(0,remainingCount);
    
              //  combine both arrays
            const totalItems = [...sameBrandItems, ...otherBrands];
    
            setMobile(totalItems);

      })
      .catch(err => {
        // setLoading(false);
        // setErrorMessage('Failed to load products');
      });
  }, [soloLaptopDetails]);

        // new chudidar slide
        const shoeMoveContainer = document.querySelector('.homeShoe-subcontainer');
        if (shoeMoveContainer) {
          document.querySelector('.homeShoeleftmove').addEventListener('click', () => {
            const clientWidth = shoeMoveContainer.clientWidth;
            shoeMoveContainer.scrollLeft -= (clientWidth - 200);
          })
        }
        if (shoeMoveContainer) {
          document.querySelector('.homeShoerightmove').addEventListener('click', () => {
            const clientWidth = shoeMoveContainer.clientWidth;
            shoeMoveContainer.scrollLeft += (clientWidth - 200);
          })
        }


    const toggleShowMore = () => {
      setShowMore(!ShowMore);
    }




    const navigate = useNavigate();
    // buy
    const buyNow = () => {
      const selectedSize = document.querySelector('input[name="chudidarSize"]:checked')?.value; 
      const token = localStorage.getItem('token');
      if(!token){
        navigate('/login');
        return;
      }else {
        if(!selectedSize){
          alert('please select size');
          return;
        }  
      const product = {
        brandName: soloLaptopDetails.brandName,
        _id: soloLaptopDetails._id,
        title: soloLaptopDetails.title,
        price: soloLaptopDetails.price,
        realprice: soloLaptopDetails.realprice,
        discount: soloLaptopDetails.discount,
        size: selectedSize,
        photo: soloLaptopDetails.photo,
        colour: soloLaptopDetails.colour,
        ctgry: soloLaptopDetails.ctgry
      };
      addToCart(product);
      setstatusbuylabel(true);
  
      setTimeout(() => {
        setstatusbuylabel(false);      
        navigate('/seecart')
      }, 1000);
    }
  }

// cart
const handleAddtoCart = () => {
  const selectedSize = document.querySelector('input[name="chudidarSize"]:checked')?.value; 
  if(!selectedSize){
    alert('please select size');
    return;
  }
  const product = {
    brandName: soloLaptopDetails.brandName,
    _id: soloLaptopDetails._id,
    title: soloLaptopDetails.title,
    price: soloLaptopDetails.price,
    realprice: soloLaptopDetails.realprice,
    discount: soloLaptopDetails.discount,
    size: selectedSize,
    photo: soloLaptopDetails.photo,
    colour: soloLaptopDetails.colour,
    ctgry: soloLaptopDetails.ctgry
  };
  addToCart(product);

  setcartMessage('Successfully added to cart!');
  setstatuscartlabel(true);
  document.querySelector('body').style.pointerEvents = 'none';
  document.querySelector('body').style.opacity = .8;

  setTimeout(() => {
  setmessageVisible(true);
  setstatuscartlabel(false);
  }, 300);
  
  setTimeout(() => {
    setmessageVisible(false);
  }, 2000);
  
  setTimeout(() => {
    setcartMessage('');
    document.querySelector('body').style.pointerEvents = 'all';
    document.querySelector('body').style.opacity = 1;
}, 2500);
  }

  const navigateSoloShoe = (id) => {
    window.open('/solochudidar/'+id,'_blank');
  }

  const handleShare = (url) => {
    // securely open in new tab
    window.open(url, '_blank', 'noopener,noreferrer')
  }

  return (<>
  {cartMessage && <div className={`cart-msg ${messageVisible ? 'cart-msg-move' : ''}`}>{cartMessage}</div>}

  {soloLaptopDetails ? <> 
  <div className='soloLaptop-Container allmargin'>
    
  <div className='soloShoeImg-Container'>
      <div className='soloShoeImg-box'>
          <img id='soloShoe-img' alt={soloLaptopDetails.title} src={soloLaptopDetails.photo}/>
      </div>
  </div>
  
  <div className='soloLaptop-details-decription-container'>
  <div className='soloLaptopDetails-container'>
    {soloLaptopDetails.brandName && <p id='soloItem-brandName'>{soloLaptopDetails.brandName}</p>}
    <p id='soloItem-title'>{soloLaptopDetails.title}</p>
    <div className='soloItem-complete-price'>
     <div className='soloItem-realPrice'><p id='soloItem-realRupee'>₹ {Number(soloLaptopDetails.price).toLocaleString('en-IN')} <span id='mrpText'>MRP</span></p><p id='tax'>inclusive of all taxes</p></div>
     {soloLaptopDetails.discount && <div className='soloItem-cancelPrice'><p id='soloItem-cancelRupee'>₹ {Number(soloLaptopDetails.realprice).toLocaleString('en-IN')}</p>
      <p id='soloItem-discount'>{soloLaptopDetails.discount}% OFF</p></div>}
      <div className='shareLogo' onClick={() => handleShare(watsappURL)}>{watsapp}</div>
    </div>
    <div className='sizeChart'>
        <p>Select Size:</p>
        <div className="shoe-sizes-container">
     {shoeSizes.map((size) => (
            <div key={size}>
                <input type="radio" value={size} name="chudidarSize" id={`size${size}`} />
                <label htmlFor={`size${size}`}>{size}</label>
            </div>
        ))}
     </div>
    </div>
  </div>

  <div className='two-btns'>
  <button id='soloItem-cart-btn' onClick={handleAddtoCart}> {statuscartlabel ? (<SmallLoader/>):(<>{CART} {cartlabel}</>)}</button>
  <button id='soloItem-buy-btn' onClick={buyNow}>{ statusbuylabel ? <SmallLoader/> : 'BUY NOW'}</button>
  </div>

  <div className='svgsContainer'>
    <div className='Solosvg1'>
    <div className='solotruckdiv'><img src={require('../assests/icons8-return-24.png')}/></div>
    <p>7 Days Return</p>
    </div>
    <div className='Solosvg1'>
      <div className='solotruckdiv'><img src={require('../assests/icons8-truck-48.png')}/></div>
      <p>Free Shipping Across India</p>
    </div>
    <div className='Solosvg1'>
      <svg xmlns="http://www.w3.org/2000/svg" height="30px" viewBox="0 -960 960 960" width="30px" fill="#333"><path d="M560-440q-50 0-85-35t-35-85q0-50 35-85t85-35q50 0 85 35t35 85q0 50-35 85t-85 35ZM280-320q-33 0-56.5-23.5T200-400v-320q0-33 23.5-56.5T280-800h560q33 0 56.5 23.5T920-720v320q0 33-23.5 56.5T840-320H280Zm80-80h400q0-33 23.5-56.5T840-480v-160q-33 0-56.5-23.5T760-720H360q0 33-23.5 56.5T280-640v160q33 0 56.5 23.5T360-400Zm440 240H120q-33 0-56.5-23.5T40-240v-440h80v440h680v80ZM280-400v-320 320Z"/></svg>
      <p>Pay on Delivery Available</p>
    </div>  
  </div>



<div className='lghtCont' style={{flexDirection:'row',gap:'1pc'}}>
<div className='lghtwgt' style={{backgroundColor:'#f6f8f9', padding:'5px 10px'}}><div>{svgFit}</div><p>Custom Fit</p></div>
<div className='lghtwgt' style={{backgroundColor:'#f6f8f9', padding:'5px 10px'}}><div>{bestPrice}</div><p>Best Price</p></div>
<div className='lghtwgt' style={{backgroundColor:'#f6f8f9', padding:'5px 10px'}}><div>{original}</div><p>100% Original Quality</p></div>
</div>

  <div className='soloItemDescription-BOX' id='soloItemDescription-BOX-ID'>
  <h4 className='soloItemDescriptionHEADING'>PRODUCT DETAILS</h4>
  {soloLaptopDetails.brandName && <p>Suit Type:<span id='soloItemDescription-brandName'>{soloLaptopDetails.brandName}</span></p>}
  {soloLaptopDetails.colour && <p>Colour:<span id='soloItemDescription-colour'>{soloLaptopDetails.colour}</span></p>}
  {soloLaptopDetails.productCode && <p>Product code:<span id='soloItemDescription-colour'>{soloLaptopDetails.productCode}</span></p>}
  {soloLaptopDetails.description && <div><div id='soloItemDescriptionTEXT' ref={contentRef} style={{height:contentHeight}}>
    {soloLaptopDetails.description.split('\n').map((sentence,index) => {
     return (<p key={index}>{sentence}</p>);
    })}</div>
  { isOverflowing &&
    <button onClick={toggleShowMore} id='descriptionShowMoreBtn'>{ShowMore ? 'View Less' : 'View More'}</button>
  }
  </div>}
  </div>

  </div>


</div>

<div className='homeShoemoveContainer'>
        <p id='simProd'>Similar Products</p>
        <div className='homeShoetmove'>
        <button className='homeShoeleftmove' >&#10094;</button>
        <button className='homeShoerightmove' >&#10095;</button>
        </div>
        
        <div className='homeShoe-subcontainer'>
            {mobile.map((eachmobile) => {
              return(
                <div className='singleShoemovebox' key={eachmobile._id} onClick={()=>navigateSoloShoe(eachmobile._id)}>
                <div className='solomoveImgMain-container'>
                <img src={eachmobile.photo} alt={eachmobile.title} img/>
                </div>
              <div className='shoemoveTitleMain-container'>
                <p className='moveShoeTitle'>{eachmobile.title}</p>
                <div className='shoemovepriceMain-contaner'>
                  <div className='shoeMovePrice'><div>{svg}</div><p>{Number(eachmobile.price).toLocaleString('en-IN')}</p></div>
                  <div className='shoeMovePrice shewMoveCancel'><p>{eachmobile.discount && <div>{svg1}{Number(eachmobile.realprice).toLocaleString('en-IN')}</div>}</p></div>
                </div>
              </div>
            </div>
              )
            })}
          </div>  
      </div>
</>
:
<div className='loaderNewCont'><div class="loaderNew"></div></div>}

  </>)
}

export default SoloChudidar;